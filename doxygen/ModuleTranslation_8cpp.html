<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: lib/Target/LLVMIR/ModuleTranslation.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIR
   &#160;<span id="projectnumber">13.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_12a96bdcc885ecacc799866a8efa56d5.html">LLVMIR</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ModuleTranslation.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ModuleTranslation_8h_source.html">mlir/Target/LLVMIR/ModuleTranslation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DebugTranslation_8h_source.html">DebugTranslation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LLVMDialect_8h_source.html">mlir/Dialect/LLVMIR/LLVMDialect.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LegalizeForExport_8h_source.html">mlir/Dialect/LLVMIR/Transforms/LegalizeForExport.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="OpenMPDialect_8h_source.html">mlir/Dialect/OpenMP/OpenMPDialect.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Attributes_8h_source.html">mlir/IR/Attributes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BuiltinOps_8h_source.html">mlir/IR/BuiltinOps.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_2BuiltinTypes_8h_source.html">mlir/IR/BuiltinTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="RegionGraphTraits_8h_source.html">mlir/IR/RegionGraphTraits.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LLVM_8h_source.html">mlir/Support/LLVM.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LLVMTranslationInterface_8h_source.html">mlir/Target/LLVMIR/LLVMTranslationInterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TypeTranslation_8h_source.html">mlir/Target/LLVMIR/TypeTranslation.h</a>&quot;</code><br />
<code>#include &quot;llvm/ADT/TypeSwitch.h&quot;</code><br />
<code>#include &quot;llvm/ADT/PostOrderIterator.h&quot;</code><br />
<code>#include &quot;llvm/ADT/SetVector.h&quot;</code><br />
<code>#include &quot;llvm/Frontend/OpenMP/OMPIRBuilder.h&quot;</code><br />
<code>#include &quot;llvm/IR/BasicBlock.h&quot;</code><br />
<code>#include &quot;llvm/IR/CFG.h&quot;</code><br />
<code>#include &quot;llvm/IR/Constants.h&quot;</code><br />
<code>#include &quot;llvm/IR/DerivedTypes.h&quot;</code><br />
<code>#include &quot;llvm/IR/IRBuilder.h&quot;</code><br />
<code>#include &quot;llvm/IR/InlineAsm.h&quot;</code><br />
<code>#include &quot;llvm/IR/LLVMContext.h&quot;</code><br />
<code>#include &quot;llvm/IR/MDBuilder.h&quot;</code><br />
<code>#include &quot;llvm/IR/Module.h&quot;</code><br />
<code>#include &quot;llvm/IR/Verifier.h&quot;</code><br />
<code>#include &quot;llvm/Transforms/Utils/BasicBlockUtils.h&quot;</code><br />
<code>#include &quot;llvm/Transforms/Utils/Cloning.h&quot;</code><br />
<code>#include &quot;mlir/Dialect/LLVMIR/LLVMConversionEnumsToLLVM.inc&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ModuleTranslation.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="ModuleTranslation_8cpp__incl.png" border="0" usemap="#lib_2Target_2LLVMIR_2ModuleTranslation_8cpp" alt=""/></div>
<map name="lib_2Target_2LLVMIR_2ModuleTranslation_8cpp" id="lib_2Target_2LLVMIR_2ModuleTranslation_8cpp">
<area shape="rect" id="node2" href="ModuleTranslation_8h.html" title="mlir/Target/LLVMIR\l/ModuleTranslation.h" alt="" coords="560,95,716,136"/>
<area shape="rect" id="node7" href="LLVM_8h.html" title="mlir/Support/LLVM.h" alt="" coords="1105,281,1256,307"/>
<area shape="rect" id="node9" href="LLVMTranslationInterface_8h.html" title="mlir/Target/LLVMIR\l/LLVMTranslationInterface.h" alt="" coords="173,184,373,225"/>
<area shape="rect" id="node10" href="Attributes_8h.html" title="mlir/IR/Attributes.h" alt="" coords="1104,363,1249,389"/>
<area shape="rect" id="node11" href="TypeTranslation_8h.html" title="mlir/Target/LLVMIR\l/TypeTranslation.h" alt="" coords="5,184,148,225"/>
<area shape="rect" id="node14" href="DebugTranslation_8h.html" title="DebugTranslation.h" alt="" coords="1489,102,1635,129"/>
<area shape="rect" id="node19" href="LLVMDialect_8h.html" title="mlir/Dialect/LLVMIR\l/LLVMDialect.h" alt="" coords="2617,95,2765,136"/>
<area shape="rect" id="node21" href="BuiltinOps_8h.html" title="mlir/IR/BuiltinOps.h" alt="" coords="2617,191,2765,218"/>
<area shape="rect" id="node26" href="IR_2BuiltinTypes_8h.html" title="mlir/IR/BuiltinTypes.h" alt="" coords="1886,281,2046,307"/>
<area shape="rect" id="node36" href="LegalizeForExport_8h.html" title="mlir/Dialect/LLVMIR\l/Transforms/LegalizeForExport.h" alt="" coords="2892,95,3123,136"/>
<area shape="rect" id="node37" href="OpenMPDialect_8h.html" title="mlir/Dialect/OpenMP\l/OpenMPDialect.h" alt="" coords="2438,184,2593,225"/>
<area shape="rect" id="node38" href="RegionGraphTraits_8h.html" title="mlir/IR/RegionGraphTraits.h" alt="" coords="3197,102,3396,129"/>
<area shape="rect" id="node3" href="Operation_8h.html" title="mlir/IR/Operation.h" alt="" coords="2135,437,2280,464"/>
<area shape="rect" id="node4" href="Value_8h.html" title="mlir/IR/Value.h" alt="" coords="1041,191,1158,218"/>
<area shape="rect" id="node8" href="Export_8h.html" title="mlir/Target/LLVMIR\l/Export.h" alt="" coords="448,184,591,225"/>
<area shape="rect" id="node5" href="Types_8h.html" title="mlir/IR/Types.h" alt="" coords="1907,363,2025,389"/>
<area shape="rect" id="node6" href="TypeSupport_8h.html" title="mlir/IR/TypeSupport.h" alt="" coords="1827,437,1988,464"/>
<area shape="rect" id="node15" href="Location_8h.html" title="mlir/IR/Location.h" alt="" coords="1281,281,1417,307"/>
<area shape="rect" id="node20" href="LLVMTypes_8h.html" title="mlir/Dialect/LLVMIR\l/LLVMTypes.h" alt="" coords="2227,273,2375,315"/>
<area shape="rect" id="node22" href="SideEffectInterfaces_8h.html" title="mlir/Interfaces/SideEffect\lInterfaces.h" alt="" coords="2501,273,2687,315"/>
<area shape="rect" id="node23" href="OpDefinition_8h.html" title="mlir/IR/OpDefinition.h" alt="" coords="2482,363,2645,389"/>
<area shape="rect" id="node24" href="IR_2Dialect_8h.html" title="mlir/IR/Dialect.h" alt="" coords="2500,437,2627,464"/>
<area shape="rect" id="node25" href="OpImplementation_8h.html" title="mlir/IR/OpImplementation.h" alt="" coords="1937,191,2139,218"/>
<area shape="rect" id="node27" href="ControlFlowInterfaces_8h.html" title="mlir/Interfaces/ControlFlow\lInterfaces.h" alt="" coords="2712,273,2911,315"/>
</map>
</div>
</div>
<p><a href="ModuleTranslation_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5e74389f9630f54b6fdb23dba37e247e"><td class="memItemLeft" align="right" valign="top">static llvm::Constant *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a5e74389f9630f54b6fdb23dba37e247e">buildSequentialConstant</a> (<a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; llvm::Constant *&gt; &amp;constants, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int64_t &gt; shape, llvm::Type *type, <a class="el" href="classmlir_1_1Location.html">Location</a> loc)</td></tr>
<tr class="memdesc:a5e74389f9630f54b6fdb23dba37e247e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a constant of a sequential LLVM type <code>type</code>, potentially containing other sequential types recursively, from the individual constant values provided in <code>constants</code>.  <a href="#a5e74389f9630f54b6fdb23dba37e247e">More...</a><br /></td></tr>
<tr class="separator:a5e74389f9630f54b6fdb23dba37e247e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4111e6ff5cf4f1d365791ce9c8e0317"><td class="memItemLeft" align="right" valign="top">static llvm::Type *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#aa4111e6ff5cf4f1d365791ce9c8e0317">getInnermostElementType</a> (llvm::Type *type)</td></tr>
<tr class="memdesc:aa4111e6ff5cf4f1d365791ce9c8e0317"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first non-sequential type nested in sequential types.  <a href="#aa4111e6ff5cf4f1d365791ce9c8e0317">More...</a><br /></td></tr>
<tr class="separator:aa4111e6ff5cf4f1d365791ce9c8e0317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a091473715bf4679f1f429f317067664c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a091473715bf4679f1f429f317067664c">getPHISourceValue</a> (<a class="el" href="classmlir_1_1Block.html">Block</a> *current, <a class="el" href="classmlir_1_1Block.html">Block</a> *pred, <a class="el" href="classunsigned.html">unsigned</a> numArguments, <a class="el" href="classunsigned.html">unsigned</a> index)</td></tr>
<tr class="memdesc:a091473715bf4679f1f429f317067664c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the SSA value passed to the current block from the terminator operation of its predecessor.  <a href="#a091473715bf4679f1f429f317067664c">More...</a><br /></td></tr>
<tr class="separator:a091473715bf4679f1f429f317067664c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a440bf5dd2d26cd43111c69164407e762"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Block.html">Block</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a440bf5dd2d26cd43111c69164407e762">getModuleBody</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *module)</td></tr>
<tr class="memdesc:a440bf5dd2d26cd43111c69164407e762"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper method to get the single Block in an operation honoring LLVM's module requirements.  <a href="#a440bf5dd2d26cd43111c69164407e762">More...</a><br /></td></tr>
<tr class="separator:a440bf5dd2d26cd43111c69164407e762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad47513b43b960b9cc840b6e1fdc4e1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a9ad47513b43b960b9cc840b6e1fdc4e1">shouldDropGlobalInitializer</a> (llvm::GlobalValue::LinkageTypes linkage, llvm::Constant *cst)</td></tr>
<tr class="memdesc:a9ad47513b43b960b9cc840b6e1fdc4e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper method to decide if a constant must not be set as a global variable initializer.  <a href="#a9ad47513b43b960b9cc840b6e1fdc4e1">More...</a><br /></td></tr>
<tr class="separator:a9ad47513b43b960b9cc840b6e1fdc4e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75dd84d365c4e04f975610b0d88ca301"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a75dd84d365c4e04f975610b0d88ca301">checkedAddLLVMFnAttribute</a> (<a class="el" href="classmlir_1_1Location.html">Location</a> loc, llvm::Function *llvmFunc, StringRef key, StringRef value=StringRef())</td></tr>
<tr class="memdesc:a75dd84d365c4e04f975610b0d88ca301"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to add an attribute identified by <code>key</code>, optionally with the given <code>value</code> to LLVM function <code>llvmFunc</code>.  <a href="#a75dd84d365c4e04f975610b0d88ca301">More...</a><br /></td></tr>
<tr class="separator:a75dd84d365c4e04f975610b0d88ca301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa2f691e00650388c78f61c834d54b31"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#afa2f691e00650388c78f61c834d54b31">forwardPassthroughAttributes</a> (<a class="el" href="classmlir_1_1Location.html">Location</a> loc, <a class="el" href="classllvm_1_1Optional.html">Optional</a>&lt; ArrayAttr &gt; attributes, llvm::Function *llvmFunc)</td></tr>
<tr class="memdesc:afa2f691e00650388c78f61c834d54b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches the attributes listed in the given array attribute to <code>llvmFunc</code>.  <a href="#afa2f691e00650388c78f61c834d54b31">More...</a><br /></td></tr>
<tr class="separator:afa2f691e00650388c78f61c834d54b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab94a46d9b0b6fbe66d325e629a771ba5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#ab94a46d9b0b6fbe66d325e629a771ba5">checkSupportedModuleOps</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *m)</td></tr>
<tr class="memdesc:ab94a46d9b0b6fbe66d325e629a771ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the module contains only supported ops directly in its body.  <a href="#ab94a46d9b0b6fbe66d325e629a771ba5">More...</a><br /></td></tr>
<tr class="separator:ab94a46d9b0b6fbe66d325e629a771ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97683e2f1d71cb0815811351c035d9c"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; llvm::Module &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#aa97683e2f1d71cb0815811351c035d9c">prepareLLVMModule</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *m, llvm::LLVMContext &amp;llvmContext, StringRef name)</td></tr>
<tr class="separator:aa97683e2f1d71cb0815811351c035d9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5e74389f9630f54b6fdb23dba37e247e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e74389f9630f54b6fdb23dba37e247e">&#9670;&nbsp;</a></span>buildSequentialConstant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static llvm::Constant* buildSequentialConstant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; llvm::Constant *&gt; &amp;&#160;</td>
          <td class="paramname"><em>constants</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int64_t &gt;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::Type *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds a constant of a sequential LLVM type <code>type</code>, potentially containing other sequential types recursively, from the individual constant values provided in <code>constants</code>. </p>
<p><code>shape</code> contains the number of elements in nested sequential types. Reports errors at <code>loc</code> and returns nullptr on error. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00056">56</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespacemlir.html#ae0a5f1311f5db69741663dd9e28a3c9bacb17869fe51048b5a5c4c6106551a255">mlir::Constant</a>, <a class="el" href="PolynomialApproximation_8cpp_source.html#l00055">elementType()</a>, and <a class="el" href="IR_2Diagnostics_8cpp_source.html#l00301">mlir::emitError()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00107">mlir::LLVM::detail::getLLVMConstant()</a>.</p>

</div>
</div>
<a id="a75dd84d365c4e04f975610b0d88ca301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75dd84d365c4e04f975610b0d88ca301">&#9670;&nbsp;</a></span>checkedAddLLVMFnAttribute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> checkedAddLLVMFnAttribute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::Function *&#160;</td>
          <td class="paramname"><em>llvmFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef&#160;</td>
          <td class="paramname"><em>value</em> = <code>StringRef()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to add an attribute identified by <code>key</code>, optionally with the given <code>value</code> to LLVM function <code>llvmFunc</code>. </p>
<p>Reports errors at <code>loc</code> if any. If the attribute has a kind known to LLVM IR, create the attribute of this kind, otherwise keep it as a string attribute. Performs additional checks for attributes known to have or not have a value in order to avoid assertions inside LLVM upon construction. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00448">448</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="IR_2Diagnostics_8cpp_source.html#l00301">mlir::emitError()</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00488">forwardPassthroughAttributes()</a>.</p>

</div>
</div>
<a id="ab94a46d9b0b6fbe66d325e629a771ba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab94a46d9b0b6fbe66d325e629a771ba5">&#9670;&nbsp;</a></span>checkSupportedModuleOps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> checkSupportedModuleOps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether the module contains only supported ops directly in its body. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00624">624</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="LogicalResult_8h_source.html#l00062">mlir::failure()</a>, <a class="el" href="ModuleTranslation_8cpp_source.html#l00488">forwardPassthroughAttributes()</a>, <a class="el" href="ModuleTranslation_8cpp_source.html#l00370">getModuleBody()</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00735">prepareLLVMModule()</a>.</p>

</div>
</div>
<a id="afa2f691e00650388c78f61c834d54b31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa2f691e00650388c78f61c834d54b31">&#9670;&nbsp;</a></span>forwardPassthroughAttributes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> forwardPassthroughAttributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Optional.html">Optional</a>&lt; ArrayAttr &gt;&#160;</td>
          <td class="paramname"><em>attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::Function *&#160;</td>
          <td class="paramname"><em>llvmFunc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attaches the attributes listed in the given array attribute to <code>llvmFunc</code>. </p>
<p>Reports error to <code>loc</code> if any and returns immediately. Expects <code>attributes</code> to be an array attribute containing either string attributes, treated as value-less LLVM attributes, or array attributes containing two string attributes, with the first string being the name of the corresponding LLVM attribute and the second string beings its value. Note that even integer attributes are expected to have their values expressed as strings. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00488">488</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="ModuleTranslation_8cpp_source.html#l00448">checkedAddLLVMFnAttribute()</a>, <a class="el" href="ModuleTranslation_8cpp_source.html#l00246">mlir::LLVM::detail::connectPHINodes()</a>, <a class="el" href="namespacemlir.html#ae0a5f1311f5db69741663dd9e28a3c9bacb17869fe51048b5a5c4c6106551a255">mlir::Constant</a>, <a class="el" href="IR_2Diagnostics_8cpp_source.html#l00301">mlir::emitError()</a>, <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="LogicalResult_8h_source.html#l00062">mlir::failure()</a>, <a class="el" href="Operation_8h_source.html#l00396">mlir::Operation::getDialectAttrs()</a>, <a class="el" href="ModuleTranslation_8cpp_source.html#l00107">mlir::LLVM::detail::getLLVMConstant()</a>, <a class="el" href="ModuleTranslation_8cpp_source.html#l00279">mlir::LLVM::detail::getTopologicallySortedBlocks()</a>, <a class="el" href="Value_8h_source.html#l00113">mlir::Value::getType()</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00624">checkSupportedModuleOps()</a>.</p>

</div>
</div>
<a id="aa4111e6ff5cf4f1d365791ce9c8e0317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4111e6ff5cf4f1d365791ce9c8e0317">&#9670;&nbsp;</a></span>getInnermostElementType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static llvm::Type* getInnermostElementType </td>
          <td>(</td>
          <td class="paramtype">llvm::Type *&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the first non-sequential type nested in sequential types. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00091">91</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00107">mlir::LLVM::detail::getLLVMConstant()</a>.</p>

</div>
</div>
<a id="a440bf5dd2d26cd43111c69164407e762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a440bf5dd2d26cd43111c69164407e762">&#9670;&nbsp;</a></span>getModuleBody()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Block.html">Block</a>&amp; getModuleBody </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>module</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A helper method to get the single Block in an operation honoring LLVM's module requirements. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00370">370</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="IR_2Region_8h_source.html#l00065">mlir::Region::front()</a>, and <a class="el" href="Operation_8h_source.html#l00435">mlir::Operation::getRegion()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00624">checkSupportedModuleOps()</a>, and <a class="el" href="ModuleTranslation_8cpp_source.html#l00376">shouldDropGlobalInitializer()</a>.</p>

</div>
</div>
<a id="a091473715bf4679f1f429f317067664c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a091473715bf4679f1f429f317067664c">&#9670;&nbsp;</a></span>getPHISourceValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Value.html">Value</a> getPHISourceValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Block.html">Block</a> *&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Block.html">Block</a> *&#160;</td>
          <td class="paramname"><em>pred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>numArguments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the SSA value passed to the current block from the terminator operation of its predecessor. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00209">209</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="Matchers_8h_source.html#l00196">mlir::detail::enumerate()</a>, <a class="el" href="Operation_8h_source.html#l00232">mlir::Operation::getOperand()</a>, <a class="el" href="Operation_8h_source.html#l00452">mlir::Operation::getSuccessors()</a>, and <a class="el" href="Block_8cpp_source.html#l00225">mlir::Block::getTerminator()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00246">mlir::LLVM::detail::connectPHINodes()</a>.</p>

</div>
</div>
<a id="aa97683e2f1d71cb0815811351c035d9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa97683e2f1d71cb0815811351c035d9c">&#9670;&nbsp;</a></span>prepareLLVMModule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::unique_ptr&lt;llvm::Module&gt; prepareLLVMModule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::LLVMContext &amp;&#160;</td>
          <td class="paramname"><em>llvmContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00735">735</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="ModuleTranslation_8cpp_source.html#l00624">checkSupportedModuleOps()</a>, <a class="el" href="LegalizeForExport_8cpp_source.html#l00051">mlir::LLVM::ensureDistinctSuccessors()</a>, <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="Operation_8h_source.html#l00331">mlir::Operation::getAttr()</a>, <a class="el" href="Operation_8cpp_source.html#l00220">mlir::Operation::getContext()</a>, <a class="el" href="MLIRContext_8h_source.html#l00072">mlir::MLIRContext::getOrLoadDialect()</a>, <a class="el" href="LLVMDialect_8cpp_source.html#l02354">mlir::LLVM::satisfiesLLVMModule()</a>, and <a class="el" href="namespacemlir.html#adc149979459c3123124db882fb765dba">mlir::translateModuleToLLVMIR()</a>.</p>

</div>
</div>
<a id="a9ad47513b43b960b9cc840b6e1fdc4e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad47513b43b960b9cc840b6e1fdc4e1">&#9670;&nbsp;</a></span>shouldDropGlobalInitializer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool shouldDropGlobalInitializer </td>
          <td>(</td>
          <td class="paramtype">llvm::GlobalValue::LinkageTypes&#160;</td>
          <td class="paramname"><em>linkage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::Constant *&#160;</td>
          <td class="paramname"><em>cst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A helper method to decide if a constant must not be set as a global variable initializer. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00376">376</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespacemlir.html#ae0a5f1311f5db69741663dd9e28a3c9bacb17869fe51048b5a5c4c6106551a255">mlir::Constant</a>, <a class="el" href="IR_2Diagnostics_8cpp_source.html#l00301">mlir::emitError()</a>, <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="LogicalResult_8h_source.html#l00062">mlir::failure()</a>, <a class="el" href="ModuleTranslation_8cpp_source.html#l00107">mlir::LLVM::detail::getLLVMConstant()</a>, <a class="el" href="Operation_8h_source.html#l00106">mlir::Operation::getLoc()</a>, <a class="el" href="ModuleTranslation_8cpp_source.html#l00370">getModuleBody()</a>, <a class="el" href="Operation_8h_source.html#l00284">mlir::Operation::getResult()</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 30 2021 08:50:54 for MLIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
