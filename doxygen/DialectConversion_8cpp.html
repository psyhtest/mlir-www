<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: lib/Transforms/Utils/DialectConversion.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIR
   &#160;<span id="projectnumber">13.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_f75c00afeb315f44d76556a7c675e6e8.html">Utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">DialectConversion.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="DialectConversion_8h_source.html">mlir/Transforms/DialectConversion.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Block_8h_source.html">mlir/IR/Block.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BlockAndValueMapping_8h_source.html">mlir/IR/BlockAndValueMapping.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_2Builders_8h_source.html">mlir/IR/Builders.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BuiltinOps_8h_source.html">mlir/IR/BuiltinOps.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FunctionSupport_8h_source.html">mlir/IR/FunctionSupport.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PatternApplicator_8h_source.html">mlir/Rewrite/PatternApplicator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Transforms_2Utils_8h_source.html">mlir/Transforms/Utils.h</a>&quot;</code><br />
<code>#include &quot;llvm/ADT/SetVector.h&quot;</code><br />
<code>#include &quot;llvm/ADT/SmallPtrSet.h&quot;</code><br />
<code>#include &quot;llvm/Support/Debug.h&quot;</code><br />
<code>#include &quot;llvm/Support/FormatVariadic.h&quot;</code><br />
<code>#include &quot;llvm/Support/SaveAndRestore.h&quot;</code><br />
<code>#include &quot;llvm/Support/ScopedPrinter.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for DialectConversion.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="DialectConversion_8cpp__incl.png" border="0" usemap="#lib_2Transforms_2Utils_2DialectConversion_8cpp" alt=""/></div>
<map name="lib_2Transforms_2Utils_2DialectConversion_8cpp" id="lib_2Transforms_2Utils_2DialectConversion_8cpp">
<area shape="rect" id="node2" href="DialectConversion_8h.html" title="mlir/Transforms/DialectConversion.h" alt="" coords="1677,95,1936,121"/>
<area shape="rect" id="node5" href="IR_2Builders_8h.html" title="mlir/IR/Builders.h" alt="" coords="2158,430,2293,457"/>
<area shape="rect" id="node9" href="Block_8h.html" title="mlir/IR/Block.h" alt="" coords="2653,736,2771,763"/>
<area shape="rect" id="node21" href="BuiltinOps_8h.html" title="mlir/IR/BuiltinOps.h" alt="" coords="1130,341,1278,367"/>
<area shape="rect" id="node22" href="FunctionSupport_8h.html" title="mlir/IR/FunctionSupport.h" alt="" coords="243,430,429,457"/>
<area shape="rect" id="node40" href="BlockAndValueMapping_8h.html" title="mlir/IR/BlockAndValueMapping.h" alt="" coords="2579,177,2813,203"/>
<area shape="rect" id="node41" href="PatternApplicator_8h.html" title="mlir/Rewrite/PatternApplicator.h" alt="" coords="2011,95,2239,121"/>
<area shape="rect" id="node42" href="Transforms_2Utils_8h.html" title="mlir/Transforms/Utils.h" alt="" coords="2365,259,2536,285"/>
<area shape="rect" id="node3" href="FrozenRewritePatternSet_8h.html" title="mlir/Rewrite/FrozenRewrite\lPatternSet.h" alt="" coords="2019,169,2215,211"/>
<area shape="rect" id="node4" href="PatternMatch_8h.html" title="mlir/IR/PatternMatch.h" alt="" coords="2034,259,2201,285"/>
<area shape="rect" id="node6" href="OpDefinition_8h.html" title="mlir/IR/OpDefinition.h" alt="" coords="1313,587,1476,613"/>
<area shape="rect" id="node7" href="IR_2Dialect_8h.html" title="mlir/IR/Dialect.h" alt="" coords="2067,661,2194,688"/>
<area shape="rect" id="node8" href="Operation_8h.html" title="mlir/IR/Operation.h" alt="" coords="1779,661,1925,688"/>
<area shape="rect" id="node10" href="BlockSupport_8h.html" title="mlir/IR/BlockSupport.h" alt="" coords="2631,811,2798,837"/>
<area shape="rect" id="node17" href="Visitors_8h.html" title="mlir/IR/Visitors.h" alt="" coords="3104,811,3235,837"/>
<area shape="rect" id="node11" href="Value_8h.html" title="mlir/IR/Value.h" alt="" coords="2439,885,2556,912"/>
<area shape="rect" id="node12" href="LLVM_8h.html" title="mlir/Support/LLVM.h" alt="" coords="2754,967,2905,994"/>
<area shape="rect" id="node18" href="LogicalResult_8h.html" title="mlir/Support/LogicalResult.h" alt="" coords="2963,885,3167,912"/>
<area shape="rect" id="node26" href="OwningOpRef_8h.html" title="mlir/IR/OwningOpRef.h" alt="" coords="648,430,816,457"/>
<area shape="rect" id="node28" href="RegionKindInterface_8h.html" title="mlir/IR/RegionKindInterface.h" alt="" coords="890,430,1102,457"/>
<area shape="rect" id="node30" href="SymbolTable_8h.html" title="mlir/IR/SymbolTable.h" alt="" coords="1191,512,1355,539"/>
<area shape="rect" id="node33" href="CallInterfaces_8h.html" title="mlir/Interfaces/CallInterfaces.h" alt="" coords="1387,430,1610,457"/>
<area shape="rect" id="node34" href="CastInterfaces_8h.html" title="mlir/Interfaces/CastInterfaces.h" alt="" coords="1635,430,1861,457"/>
<area shape="rect" id="node35" href="DataLayoutInterfaces_8h.html" title="mlir/Interfaces/DataLayout\lInterfaces.h" alt="" coords="1886,423,2082,464"/>
<area shape="rect" id="node37" href="SideEffectInterfaces_8h.html" title="mlir/Interfaces/SideEffect\lInterfaces.h" alt="" coords="1176,423,1363,464"/>
<area shape="rect" id="node23" href="IR_2BuiltinTypes_8h.html" title="mlir/IR/BuiltinTypes.h" alt="" coords="563,512,723,539"/>
<area shape="rect" id="node24" href="Attributes_8h.html" title="mlir/IR/Attributes.h" alt="" coords="1143,587,1289,613"/>
<area shape="rect" id="node43" href="Ops_8h.html" title="mlir/Dialect/StandardOps\l/IR/Ops.h" alt="" coords="1655,333,1841,375"/>
<area shape="rect" id="node44" href="IR_2AffineMap_8h.html" title="mlir/IR/AffineMap.h" alt="" coords="2477,341,2624,367"/>
</map>
</div>
</div>
<p><a href="DialectConversion_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmlir_1_1detail_1_1ConversionPatternRewriterImpl.html">mlir::detail::ConversionPatternRewriterImpl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacemlir"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemlir.html">mlir</a></td></tr>
<tr class="memdesc:namespacemlir"><td class="mdescLeft">&#160;</td><td class="mdescRight">Include the generated interface declarations. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacemlir_1_1detail"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemlir_1_1detail.html">mlir::detail</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DialectConversion_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;dialect-conversion&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7fec6a1e3f95dbfdc49bf3e51cf3a840"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DialectConversion_8cpp.html#a7fec6a1e3f95dbfdc49bf3e51cf3a840">BlockActionKind</a> <tr class="memdesc:a7fec6a1e3f95dbfdc49bf3e51cf3a840"><td class="mdescLeft">&#160;</td><td class="mdescRight">The kind of the block action performed during the rewrite.  <a href="DialectConversion_8cpp.html#a7fec6a1e3f95dbfdc49bf3e51cf3a840">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a7fec6a1e3f95dbfdc49bf3e51cf3a840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd5976ce8590cdf91caae3be56458692"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DialectConversion_8cpp.html#afd5976ce8590cdf91caae3be56458692">OpConversionMode</a> </td></tr>
<tr class="separator:afd5976ce8590cdf91caae3be56458692"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8269e8d86c32a6def1e6d39c1e580633"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DialectConversion_8cpp.html#a8269e8d86c32a6def1e6d39c1e580633">computeConversionSet</a> (<a class="el" href="classllvm_1_1iterator__range.html">iterator_range</a>&lt; <a class="el" href="classmlir_1_1Region.html#ace0e74dc2b54e7d7cd5406e9008306f9">Region::iterator</a> &gt; region, <a class="el" href="classmlir_1_1Location.html">Location</a> regionLoc, std::vector&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt; &amp;toConvert, <a class="el" href="classmlir_1_1ConversionTarget.html">ConversionTarget</a> *target=nullptr)</td></tr>
<tr class="memdesc:a8269e8d86c32a6def1e6d39c1e580633"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively collect all of the operations to convert from within 'region'.  <a href="#a8269e8d86c32a6def1e6d39c1e580633">More...</a><br /></td></tr>
<tr class="separator:a8269e8d86c32a6def1e6d39c1e580633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a892c662f0b5f820b7c7ea4b9b6f9c8ca"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a892c662f0b5f820b7c7ea4b9b6f9c8ca"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="DialectConversion_8cpp.html#a892c662f0b5f820b7c7ea4b9b6f9c8ca">logSuccess</a> (llvm::ScopedPrinter &amp;os, StringRef fmt, Args &amp;&amp;...args)</td></tr>
<tr class="memdesc:a892c662f0b5f820b7c7ea4b9b6f9c8ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">A utility function to log a successful result for the given reason.  <a href="#a892c662f0b5f820b7c7ea4b9b6f9c8ca">More...</a><br /></td></tr>
<tr class="separator:a892c662f0b5f820b7c7ea4b9b6f9c8ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46391e3d0aaaea8c51a149fdc8cd7dfa"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a46391e3d0aaaea8c51a149fdc8cd7dfa"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="DialectConversion_8cpp.html#a46391e3d0aaaea8c51a149fdc8cd7dfa">logFailure</a> (llvm::ScopedPrinter &amp;os, StringRef fmt, Args &amp;&amp;...args)</td></tr>
<tr class="memdesc:a46391e3d0aaaea8c51a149fdc8cd7dfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">A utility function to log a failure result for the given reason.  <a href="#a46391e3d0aaaea8c51a149fdc8cd7dfa">More...</a><br /></td></tr>
<tr class="separator:a46391e3d0aaaea8c51a149fdc8cd7dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da050c9bd128fcbea0d90ea2689b6ad"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DialectConversion_8cpp.html#a5da050c9bd128fcbea0d90ea2689b6ad">detachNestedAndErase</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op)</td></tr>
<tr class="memdesc:a5da050c9bd128fcbea0d90ea2689b6ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach any operations nested in the given operation from their parent blocks, and erase the given operation.  <a href="#a5da050c9bd128fcbea0d90ea2689b6ad">More...</a><br /></td></tr>
<tr class="separator:a5da050c9bd128fcbea0d90ea2689b6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae08baf84fc0116bdc63bdaaf9de8af31"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DialectConversion_8cpp.html#ae08baf84fc0116bdc63bdaaf9de8af31">findLiveUserOfReplaced</a> (<a class="el" href="classmlir_1_1Value.html">Value</a> value, <a class="el" href="structmlir_1_1detail_1_1ConversionPatternRewriterImpl.html">ConversionPatternRewriterImpl</a> &amp;rewriterImpl, const <a class="el" href="classmlir_1_1BlockAndValueMapping.html">BlockAndValueMapping</a> &amp;inverseMapping)</td></tr>
<tr class="memdesc:ae08baf84fc0116bdc63bdaaf9de8af31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a user of the given value, or of any other value that the given value replaced, that was not replaced in the conversion process.  <a href="#ae08baf84fc0116bdc63bdaaf9de8af31">More...</a><br /></td></tr>
<tr class="separator:ae08baf84fc0116bdc63bdaaf9de8af31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;dialect-conversion&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DialectConversion_8cpp_source.html#l00027">27</a> of file <a class="el" href="DialectConversion_8cpp_source.html">DialectConversion.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7fec6a1e3f95dbfdc49bf3e51cf3a840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fec6a1e3f95dbfdc49bf3e51cf3a840">&#9670;&nbsp;</a></span>BlockActionKind</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="DialectConversion_8cpp.html#a7fec6a1e3f95dbfdc49bf3e51cf3a840">BlockActionKind</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The kind of the block action performed during the rewrite. </p>
<p>Actions can be undone if the conversion fails. </p>

<p class="definition">Definition at line <a class="el" href="DialectConversion_8cpp_source.html#l00618">618</a> of file <a class="el" href="DialectConversion_8cpp_source.html">DialectConversion.cpp</a>.</p>

</div>
</div>
<a id="afd5976ce8590cdf91caae3be56458692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd5976ce8590cdf91caae3be56458692">&#9670;&nbsp;</a></span>OpConversionMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="DialectConversion_8cpp.html#afd5976ce8590cdf91caae3be56458692">OpConversionMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DialectConversion_8cpp_source.html#l02142">2142</a> of file <a class="el" href="DialectConversion_8cpp_source.html">DialectConversion.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8269e8d86c32a6def1e6d39c1e580633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8269e8d86c32a6def1e6d39c1e580633">&#9670;&nbsp;</a></span>computeConversionSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> computeConversionSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1iterator__range.html">iterator_range</a>&lt; <a class="el" href="classmlir_1_1Region.html#ace0e74dc2b54e7d7cd5406e9008306f9">Region::iterator</a> &gt;&#160;</td>
          <td class="paramname"><em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>regionLoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>toConvert</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ConversionTarget.html">ConversionTarget</a> *&#160;</td>
          <td class="paramname"><em>target</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recursively collect all of the operations to convert from within 'region'. </p>
<p>If 'target' is nonnull, operations that are recursively legal have their regions pre-filtered to avoid considering them for legalization. </p>

<p class="definition">Definition at line <a class="el" href="DialectConversion_8cpp_source.html#l00033">33</a> of file <a class="el" href="DialectConversion_8cpp_source.html">DialectConversion.cpp</a>.</p>

<p class="reference">References <a class="el" href="IR_2Diagnostics_8cpp_source.html#l00301">mlir::emitError()</a>, <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="LogicalResult_8h_source.html#l00062">mlir::failure()</a>, <a class="el" href="Block_8h_source.html#l00249">mlir::Block::getSuccessors()</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

<p class="reference">Referenced by <a class="el" href="DialectConversion_8cpp_source.html#l01281">mlir::detail::ConversionPatternRewriterImpl::notifyRegionWasClonedBefore()</a>.</p>

</div>
</div>
<a id="a5da050c9bd128fcbea0d90ea2689b6ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5da050c9bd128fcbea0d90ea2689b6ad">&#9670;&nbsp;</a></span>detachNestedAndErase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> detachNestedAndErase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detach any operations nested in the given operation from their parent blocks, and erase the given operation. </p>
<p>This can be used when the nested operations are scheduled for erasure themselves, so deleting the regions of the given operation together with their content would result in double-free. This happens, for example, when rolling back op creation in the reverse order and if the nested ops were created before the parent op. This function does not need to collect nested ops recursively because it is expected to also be called for each nested op when it is about to be deleted. </p>

<p class="definition">Definition at line <a class="el" href="DialectConversion_8cpp_source.html#l00871">871</a> of file <a class="el" href="DialectConversion_8cpp_source.html">DialectConversion.cpp</a>.</p>

<p class="reference">References <a class="el" href="Block_8cpp_source.html#l00082">mlir::Block::dropAllDefinedValueUses()</a>, <a class="el" href="Operation_8h_source.html#l00530">mlir::Operation::dropAllUses()</a>, <a class="el" href="Operation_8cpp_source.html#l00486">mlir::Operation::erase()</a>, <a class="el" href="Block_8h_source.html#l00125">mlir::Block::getOperations()</a>, and <a class="el" href="Operation_8h_source.html#l00429">mlir::Operation::getRegions()</a>.</p>

<p class="reference">Referenced by <a class="el" href="DialectConversion_8cpp_source.html#l00883">mlir::detail::ConversionPatternRewriterImpl::discardRewrites()</a>, and <a class="el" href="DialectConversion_8cpp_source.html#l00952">mlir::detail::ConversionPatternRewriterImpl::resetState()</a>.</p>

</div>
</div>
<a id="ae08baf84fc0116bdc63bdaaf9de8af31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae08baf84fc0116bdc63bdaaf9de8af31">&#9670;&nbsp;</a></span>findLiveUserOfReplaced()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Operation.html">Operation</a>* findLiveUserOfReplaced </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmlir_1_1detail_1_1ConversionPatternRewriterImpl.html">ConversionPatternRewriterImpl</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriterImpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1BlockAndValueMapping.html">BlockAndValueMapping</a> &amp;&#160;</td>
          <td class="paramname"><em>inverseMapping</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds a user of the given value, or of any other value that the given value replaced, that was not replaced in the conversion process. </p>

<p class="definition">Definition at line <a class="el" href="DialectConversion_8cpp_source.html#l02387">2387</a> of file <a class="el" href="DialectConversion_8cpp_source.html">DialectConversion.cpp</a>.</p>

<p class="reference">References <a class="el" href="IR_2Diagnostics_8h_source.html#l00342">mlir::InFlightDiagnostic::attachNote()</a>, <a class="el" href="DialectConversion_8cpp_source.html#l00812">mlir::detail::ConversionPatternRewriterImpl::createdOps</a>, <a class="el" href="ConvertFromLLVMIR_8cpp_source.html#l00041">diag()</a>, <a class="el" href="Operation_8cpp_source.html#l00285">mlir::Operation::emitError()</a>, <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="LogicalResult_8h_source.html#l00062">mlir::failure()</a>, <a class="el" href="Operation_8h_source.html#l00106">mlir::Operation::getLoc()</a>, <a class="el" href="Operation_8h_source.html#l00057">mlir::Operation::getName()</a>, <a class="el" href="Value_8h_source.html#l00395">mlir::OpResult::getResultNumber()</a>, <a class="el" href="Value_8h_source.html#l00113">mlir::Value::getType()</a>, <a class="el" href="Value_8h_source.html#l00204">mlir::Value::getUsers()</a>, <a class="el" href="DialectConversion_8cpp_source.html#l01121">mlir::detail::ConversionPatternRewriterImpl::isOpIgnored()</a>, <a class="el" href="BlockAndValueMapping_8h_source.html#l00056">mlir::BlockAndValueMapping::lookupOrNull()</a>, <a class="el" href="DialectConversion_8cpp_source.html#l00806">mlir::detail::ConversionPatternRewriterImpl::mapping</a>, <a class="el" href="DialectConversion_8h_source.html#l00210">mlir::TypeConverter::materializeSourceConversion()</a>, <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>, and <a class="el" href="Value_8h_source.html#l00203">mlir::Value::user_end()</a>.</p>

</div>
</div>
<a id="a46391e3d0aaaea8c51a149fdc8cd7dfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46391e3d0aaaea8c51a149fdc8cd7dfa">&#9670;&nbsp;</a></span>logFailure()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> logFailure </td>
          <td>(</td>
          <td class="paramtype">llvm::ScopedPrinter &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A utility function to log a failure result for the given reason. </p>

<p class="definition">Definition at line <a class="el" href="DialectConversion_8cpp_source.html#l00091">91</a> of file <a class="el" href="DialectConversion_8cpp_source.html">DialectConversion.cpp</a>.</p>

<p class="reference">References <a class="el" href="Block_8cpp_source.html#l00148">mlir::Block::addArguments()</a>, <a class="el" href="IR_2Diagnostics_8h_source.html#l00342">mlir::InFlightDiagnostic::attachNote()</a>, <a class="el" href="Block_8h_source.html#l00131">mlir::Block::begin()</a>, <a class="el" href="DialectConversion_8cpp_source.html#l02610">mlir::TypeConverter::convertBlockSignature()</a>, <a class="el" href="ConvertFromLLVMIR_8cpp_source.html#l00041">diag()</a>, <a class="el" href="UseDefLists_8h_source.html#l00041">mlir::IRObjectWithUseList&lt; OperandType &gt;::dropAllUses()</a>, <a class="el" href="Value_8h_source.html#l00155">mlir::Value::dropAllUses()</a>, <a class="el" href="Value_8h_source.html#l00097">mlir::Value::dyn_cast()</a>, <a class="el" href="IR_2Diagnostics_8cpp_source.html#l00301">mlir::emitError()</a>, <a class="el" href="Block_8h_source.html#l00132">mlir::Block::end()</a>, <a class="el" href="Matchers_8h_source.html#l00196">mlir::detail::enumerate()</a>, <a class="el" href="Block_8cpp_source.html#l00054">mlir::Block::erase()</a>, <a class="el" href="LogicalResult_8h_source.html#l00062">mlir::failure()</a>, <a class="el" href="Block_8h_source.html#l00117">mlir::Block::getArgument()</a>, <a class="el" href="Block_8h_source.html#l00075">mlir::Block::getArguments()</a>, <a class="el" href="Operation_8h_source.html#l00319">mlir::Operation::getAttrDictionary()</a>, <a class="el" href="IR_2Region_8h_source.html#l00045">mlir::Region::getBlocks()</a>, <a class="el" href="DialectConversion_8h_source.html#l00054">mlir::TypeConverter::SignatureConversion::getConvertedTypes()</a>, <a class="el" href="DialectConversion_8h_source.html#l00057">mlir::TypeConverter::SignatureConversion::getInputMapping()</a>, <a class="el" href="BlockAndValueMapping_8h_source.html#l00080">mlir::BlockAndValueMapping::getInverse()</a>, <a class="el" href="Operation_8h_source.html#l00106">mlir::Operation::getLoc()</a>, <a class="el" href="Value_8cpp_source.html#l00026">mlir::Value::getLoc()</a>, <a class="el" href="Block_8h_source.html#l00116">mlir::Block::getNumArguments()</a>, <a class="el" href="Block_8h_source.html#l00125">mlir::Block::getOperations()</a>, <a class="el" href="Block_8cpp_source.html#l00026">mlir::Block::getParent()</a>, <a class="el" href="IR_2Region_8cpp_source.html#l00051">mlir::Region::getParentOp()</a>, <a class="el" href="Operation_8h_source.html#l00429">mlir::Operation::getRegions()</a>, <a class="el" href="Value_8h_source.html#l00113">mlir::Value::getType()</a>, <a class="el" href="DialectConversion_8h_source.html#l00205">mlir::TypeConverter::materializeArgumentConversion()</a>, <a class="el" href="Block_8cpp_source.html#l00047">mlir::Block::moveBefore()</a>, <a class="el" href="Operation_8h_source.html#l00256">mlir::Operation::operand_begin()</a>, <a class="el" href="Operation_8h_source.html#l00257">mlir::Operation::operand_end()</a>, <a class="el" href="UseDefLists_8h_source.html#l00049">mlir::IRObjectWithUseList&lt; OperandType &gt;::replaceAllUsesWith()</a>, <a class="el" href="Value_8cpp_source.html#l00057">mlir::Value::replaceAllUsesWith()</a>, <a class="el" href="Operation_8h_source.html#l00322">mlir::Operation::setAttrs()</a>, <a class="el" href="Operation_8h_source.html#l00109">mlir::Operation::setLoc()</a>, <a class="el" href="Operation_8cpp_source.html#l00254">mlir::Operation::setOperands()</a>, <a class="el" href="Operation_8cpp_source.html#l00552">mlir::Operation::setSuccessor()</a>, <a class="el" href="Block_8cpp_source.html#l00284">mlir::Block::splitBlock()</a>, <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>, <a class="el" href="Operation_8h_source.html#l00450">mlir::Operation::successor_begin()</a>, <a class="el" href="Operation_8h_source.html#l00451">mlir::Operation::successor_end()</a>, and <a class="el" href="Value_8h_source.html#l00194">mlir::Value::use_empty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="DialectConversion_8cpp_source.html#l01507">mlir::ConversionPattern::matchAndRewrite()</a>.</p>

</div>
</div>
<a id="a892c662f0b5f820b7c7ea4b9b6f9c8ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a892c662f0b5f820b7c7ea4b9b6f9c8ca">&#9670;&nbsp;</a></span>logSuccess()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> logSuccess </td>
          <td>(</td>
          <td class="paramtype">llvm::ScopedPrinter &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A utility function to log a successful result for the given reason. </p>

<p class="definition">Definition at line <a class="el" href="DialectConversion_8cpp_source.html#l00078">78</a> of file <a class="el" href="DialectConversion_8cpp_source.html">DialectConversion.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="DialectConversion_8cpp_source.html#l01507">mlir::ConversionPattern::matchAndRewrite()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 30 2021 08:50:54 for MLIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
